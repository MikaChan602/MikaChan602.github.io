import{_ as R,r as I,a as y,w as F,o as j,b as c,c as i,d as u,e as l,f as a,g as e,F as O,h as b,E as x,i as N,v as J,j as n,t as r,p as U,k as $}from"./index-Cj2zM-r9.js";function q(p){const _=/[\s,;]+/;return p.split(_)}const V=p=>(U("data-v-6760b54b"),p=p(),$(),p),A={style:{color:"crimson","font-size":"16px"}},G={class:"twoCard"},H=V(()=>e("div",{class:"card-header"},[e("span",null,"尚未抽出")],-1)),K=V(()=>e("div",{class:"card-header"},[e("span",null,"已抽出")],-1)),P={__name:"index",setup(p){const _=I(""),f=y({data:[]}),d=y({data:[]}),h=I(!0),D=I(!1),t=y({data:[]}),g=y({data:[]});F(()=>{f.data=q(_.value)});function L(){if(f.data.length<2){x.warning("至少要有兩個項目");return}h.value=!1,d.data=f.data,t.data=[...f.data],D.value=!0,localStorage.setItem("listOne",JSON.stringify(t.data)),localStorage.setItem("allData",JSON.stringify(d.data)),console.log(localStorage.getItem("allData"))}function T(){localStorage.setItem("listTwo",JSON.stringify([])),localStorage.setItem("listOne",JSON.stringify([])),localStorage.setItem("allData",JSON.stringify([])),_.value="",f.data=[],d.data=[],t.data=[],g.data=[],h.value=!0,D.value=!1}function E(){if(t.data.length===0){x.error("已抽完了唷！");return}const S=t.data.length,o=Math.floor(Math.random()*S);console.log("random",o),x.success(`抽出的是${t.data[o]}`),g.data.push(t.data[o]),t.data.splice(o,1),localStorage.setItem("listOne",JSON.stringify(t.data)),localStorage.setItem("listTwo",JSON.stringify(g.data))}return j(()=>{const S=JSON.parse(localStorage.getItem("listOne"))||[],o=JSON.parse(localStorage.getItem("listTwo"))||[],m=JSON.parse(localStorage.getItem("allData"))||[];console.log(m.length),m.length!==0&&(d.data=m,t.data=S,h.value=!1),o!==null&&(g.data=o)}),(S,o)=>{const m=c("el-input"),M=c("el-form-item"),w=c("el-button"),z=c("el-form"),k=c("el-divider"),B=c("el-tag"),C=c("el-card");return i(),u("div",null,[l(z,{"label-width":"auto",style:{"max-width":"600px"}},{default:a(()=>[e("div",null,[N(l(M,{label:"請輸入獎品"},{default:a(()=>[l(m,{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"請輸入獎品，可使用,;作區隔",modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=s=>_.value=s)},null,8,["modelValue"])]),_:1},512),[[J,h.value]])]),e("div",null,[l(w,{type:"primary",onClick:L,disabled:d.data.length!==0},{default:a(()=>[n("以此列表開始抽獎")]),_:1},8,["disabled"]),l(w,{type:"danger",onClick:T},{default:a(()=>[n("清除重填")]),_:1})])]),_:1}),l(k,{"content-position":"left"},{default:a(()=>[n("列表結果 :共 "),e("span",A,r(d.data.length)+" 個",1),n("項目 ")]),_:1}),e("ul",null,[(i(!0),u(O,null,b(d.data,s=>(i(),u("li",null,[l(B,{size:"large",effect:"plain"},{default:a(()=>[n(r(s),1)]),_:2},1024)]))),256))]),l(k,{"content-position":"left"},{default:a(()=>[n("抽獎專區")]),_:1}),l(w,{type:"success",style:{margin:"3%"},onClick:E},{default:a(()=>[n("抽我R！")]),_:1}),e("div",G,[l(C,{style:{"margin-right":"2%"}},{header:a(()=>[H]),footer:a(()=>[n("剩餘數量："+r(t.data.length),1)]),default:a(()=>[(i(!0),u(O,null,b(t.data,(s,v)=>N((i(),u("p",{key:s},[e("span",null,r(v+1)+"、",1),e("span",null,r(s),1)])),[[J,t.data.length!==0]])),128)),N(e("p",null,"已抽完！",512),[[J,t.data.length===0]])]),_:1}),l(C,null,{header:a(()=>[K]),footer:a(()=>[n("抽出數量："+r(g.data.length),1)]),default:a(()=>[(i(!0),u(O,null,b(g.data,(s,v)=>(i(),u("p",{key:v},[e("span",null,r(v+1)+"、",1),e("span",null,r(s),1)]))),128))]),_:1})])])}}},W=R(P,[["__scopeId","data-v-6760b54b"]]);export{W as default};
