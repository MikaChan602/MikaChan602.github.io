import{r as _,l as h,a as E,w as b,c as f,d as p,g as e,t as i,F as k,h as C,n as L}from"./index-Cj2zM-r9.js";const j={class:"calendar"},z={class:"title"},N={class:"body"},S=e("div",{class:"row gray"},[e("p",null,"日"),e("p",null,"一"),e("p",null,"二"),e("p",null,"三"),e("p",null,"四"),e("p",null,"五"),e("p",null,"六")],-1),V=["onClick"],G={__name:"index",setup($){const s=_(h().year()),a=_(h().month());_(h().date());const g=_(""),y=E({data:[]});function B(){a.value===11?(s.value++,a.value=0):a.value++}function F(){a.value===0?(s.value--,a.value=11):a.value--}const w=[31,29,31,30,31,30,31,31,30,31,30,31],M=[31,28,31,30,31,30,31,31,30,31,30,31];b(()=>{y.data=[];const r=s.value+"-"+(a.value+1)+"-1";let v,n;s.value%4===0?(console.log("整除",s.value),v=w[a.value],a.value==0?n=31:n=w[a.value-1]):(console.log("不整除",s.value),a.value-1,v=M[a.value],a.value==0?n=31:n=M[a.value-1]);const o=h(r).day(),x=s.value+"-"+(a.value+1)+"-"+v,D=h(x).day();let c=[];for(let l=1;l<=v;l++){const t=s.value+"-"+(+a.value+1)+"-"+l;c.push({date:l,info:t,class:"normal"})}if(o!==0){let l=n,t=s.value;a.value===0&&t--;let u;a.value===0?u=12:u=a.value;for(let d=o;d>0;d--){const m=t+"-"+u+"-"+l;c.unshift({date:l,info:m,class:"gray"}),console.log(l),l--}console.log("arr",c)}if(D!==6){console.log("what last day",D);let l=1,t=s.value;a.value===11&&t++;let u;a.value===11?u=1:u=a.value+2;for(let d=D;d<6;d++){const m=t+"-"+u+"-"+l;c.push({date:l,info:m,class:"gray"}),l++}}for(let l=0;l<c.length;l+=7)y.data.push(c.slice(l,l+7));console.log(y.data)});function A(r){g.value=r,console.log(r)}return(r,v)=>(f(),p(k,null,[e("div",j,[e("div",z,[e("div",{class:"left",onClick:F},i("<")),e("div",null,[e("span",null,i(s.value)+"年",1),e("span",null,i(a.value+1)+"月",1)]),e("div",{class:"right",onClick:B},i(">"))]),e("div",N,[S,(f(!0),p(k,null,C(y.data,(n,Y)=>(f(),p("div",{class:"row",key:Y},[(f(!0),p(k,null,C(n,o=>(f(),p("p",{class:L(["circle",g.value===o.info?"clicked":""]),onClick:x=>A(o.info)},[e("span",{class:L(o.class)},i(o.date),3)],10,V))),256))]))),128))])]),e("div",null,[e("h1",null,"你選擇的日期："+i(g.value),1)])],64))}};export{G as default};
