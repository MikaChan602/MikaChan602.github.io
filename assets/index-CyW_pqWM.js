import{_ as R,r as x,a as y,w as F,o as j,b as i,c,d as u,e as l,f as e,g as t,F as N,h as b,i as w,v as I,E as J,j as n,t as d,p as U,k as $}from"./index-CW89HT-l.js";function q(p){const _=/[,;\s、\r?\n]+/;return p.split(_)}const V=p=>(U("data-v-5b68125a"),p=p(),$(),p),A={style:{color:"crimson","font-size":"16px"}},G={class:"twoCard"},H=V(()=>t("div",{class:"card-header"},[t("span",null,"尚未抽出")],-1)),K=V(()=>t("div",{class:"card-header"},[t("span",null,"已抽出")],-1)),P={__name:"index",setup(p){const _=x(""),f=y({data:[]}),s=y({data:[]}),h=x(!0),D=x(!1),a=y({data:[]}),g=y({data:[]});F(()=>{f.data=q(_.value)});function L(){if(f.data.length<2){J.warning("至少要有兩個項目");return}h.value=!1,s.data=f.data,a.data=[...f.data],D.value=!0,localStorage.setItem("listOne",JSON.stringify(a.data)),localStorage.setItem("allData",JSON.stringify(s.data)),console.log(localStorage.getItem("allData"))}function T(){localStorage.setItem("listTwo",JSON.stringify([])),localStorage.setItem("listOne",JSON.stringify([])),localStorage.setItem("allData",JSON.stringify([])),_.value="",f.data=[],s.data=[],a.data=[],g.data=[],h.value=!0,D.value=!1}function E(){if(a.data.length===0){J.error("已抽完了唷！");return}const S=a.data.length,o=Math.floor(Math.random()*S);console.log("random",o),J.success(`抽出的是${a.data[o]}`),g.data.push(a.data[o]),a.data.splice(o,1),localStorage.setItem("listOne",JSON.stringify(a.data)),localStorage.setItem("listTwo",JSON.stringify(g.data))}return j(()=>{const S=JSON.parse(localStorage.getItem("listOne"))||[],o=JSON.parse(localStorage.getItem("listTwo"))||[],m=JSON.parse(localStorage.getItem("allData"))||[];console.log(m.length),m.length!==0&&(s.data=m,a.data=S,h.value=!1),o!==null&&(g.data=o)}),(S,o)=>{const m=i("el-input"),M=i("el-form-item"),O=i("el-button"),z=i("el-form"),k=i("el-divider"),B=i("el-tag"),C=i("el-card");return c(),u("div",null,[l(z,{"label-width":"auto",style:{"max-width":"600px"}},{default:e(()=>[t("div",null,[w(l(M,{label:"請輸入獎品"},{default:e(()=>[l(m,{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"請輸入獎品，可使用,;作區隔",modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=r=>_.value=r)},null,8,["modelValue"])]),_:1},512),[[I,h.value]])]),t("div",null,[l(O,{type:"primary",onClick:L,disabled:s.data.length!==0},{default:e(()=>[n("以此列表開始抽獎")]),_:1},8,["disabled"]),l(O,{type:"danger",onClick:T},{default:e(()=>[n("清除重填")]),_:1})])]),_:1}),l(k,{"content-position":"left"},{default:e(()=>[n("列表結果 :共 "),t("span",A,d(s.data.length)+" 個",1),n("項目 ")]),_:1}),t("ul",null,[(c(!0),u(N,null,b(s.data,r=>(c(),u("li",null,[l(B,{size:"large",effect:"plain"},{default:e(()=>[n(d(r),1)]),_:2},1024)]))),256))]),l(k,{"content-position":"left"},{default:e(()=>[n("抽獎專區")]),_:1}),w(t("div",null,[l(O,{type:"success",style:{margin:"3%"},onClick:E},{default:e(()=>[n("抽我R！")]),_:1}),t("div",G,[l(C,{style:{"margin-right":"2%"}},{header:e(()=>[H]),footer:e(()=>[n("剩餘數量："+d(a.data.length),1)]),default:e(()=>[(c(!0),u(N,null,b(a.data,(r,v)=>w((c(),u("p",{key:r},[t("span",null,d(v+1)+"、",1),t("span",null,d(r),1)])),[[I,a.data.length!==0]])),128)),w(t("p",null,"已抽完！",512),[[I,a.data.length===0]])]),_:1}),l(C,null,{header:e(()=>[K]),footer:e(()=>[n("抽出數量："+d(g.data.length),1)]),default:e(()=>[(c(!0),u(N,null,b(g.data,(r,v)=>(c(),u("p",{key:v},[t("span",null,d(v+1)+"、",1),t("span",null,d(r),1)]))),128))]),_:1})])],512),[[I,s.data.length!==0]])])}}},W=R(P,[["__scopeId","data-v-5b68125a"]]);export{W as default};
