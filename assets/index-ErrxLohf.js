import{_ as A,r as x,a as w,w as F,o as j,b as i,c as u,d as p,e as l,f as a,g as e,F as J,h as b,i as I,v as O,E as N,j as s,t as c,p as U,k as $}from"./index-RIM4GMUN.js";function q(g){const f=/[,;\s、\r?\n]+/;return g.split(f).filter(m=>m)}const T=g=>(U("data-v-c70a3d65"),g=g(),$(),g),G={style:{color:"crimson","font-size":"16px"}},H={class:"twoCard"},K=T(()=>e("div",{class:"card-header"},[e("span",null,"尚未抽出")],-1)),P=T(()=>e("div",{class:"card-header"},[e("span",null,"已抽出")],-1)),Q={__name:"index",setup(g){const f=x(""),_=w({data:[]}),r=w({data:[]}),m=x(!0),D=x(!1),t=w({data:[]}),o=w({data:[]});F(()=>{_.data=q(f.value)});function V(){if(_.data.length<2){N.warning("至少要有兩個項目");return}m.value=!1,r.data=_.data,t.data=[..._.data],D.value=!0,localStorage.setItem("listOne",JSON.stringify(t.data)),localStorage.setItem("allData",JSON.stringify(r.data)),console.log(localStorage.getItem("allData"))}function L(){localStorage.setItem("listTwo",JSON.stringify([])),localStorage.setItem("listOne",JSON.stringify([])),localStorage.setItem("allData",JSON.stringify([])),f.value="",_.data=[],r.data=[],t.data=[],o.data=[],m.value=!0,D.value=!1}function E(){if(t.data.length===0){N.error("已抽完了唷！");return}const S=t.data.length,n=Math.floor(Math.random()*S);console.log("random",n),N.success(`抽出的是${t.data[n]}`),o.data.push(t.data[n]),t.data.splice(n,1),localStorage.setItem("listOne",JSON.stringify(t.data)),localStorage.setItem("listTwo",JSON.stringify(o.data))}function M(){console.log("重抽"),t.data=[...t.data,...o.data],o.data=[],console.log("listone",t.data),console.log("listtwo",o.data),localStorage.setItem("listOne",JSON.stringify(t.data)),localStorage.setItem("listTwo",JSON.stringify(o.data)),N.success("可以重抽了唷！")}return j(()=>{const S=JSON.parse(localStorage.getItem("listOne"))||[],n=JSON.parse(localStorage.getItem("listTwo"))||[],h=JSON.parse(localStorage.getItem("allData"))||[];console.log(h.length),h.length!==0&&(r.data=h,t.data=S,m.value=!1),n!==null&&(o.data=n)}),(S,n)=>{const h=i("el-input"),R=i("el-form-item"),v=i("el-button"),z=i("el-form"),k=i("el-divider"),B=i("el-tag"),C=i("el-card");return u(),p("div",null,[l(z,{"label-width":"auto",style:{"max-width":"600px"}},{default:a(()=>[e("div",null,[I(l(R,{label:"請輸入獎品"},{default:a(()=>[l(h,{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"請輸入獎品，可使用,;作區隔",modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=d=>f.value=d)},null,8,["modelValue"])]),_:1},512),[[O,m.value]])]),e("div",null,[l(v,{type:"primary",onClick:V,disabled:r.data.length!==0},{default:a(()=>[s("以此列表開始抽獎")]),_:1},8,["disabled"]),l(v,{type:"danger",onClick:L},{default:a(()=>[s("清除重填")]),_:1}),l(v,{type:"success",onClick:M},{default:a(()=>[s("下面重抽")]),_:1})])]),_:1}),l(k,{"content-position":"left"},{default:a(()=>[s("列表結果 :共 "),e("span",G,c(r.data.length)+" 個",1),s("項目 ")]),_:1}),e("ul",null,[(u(!0),p(J,null,b(r.data,d=>(u(),p("li",null,[l(B,{size:"large",effect:"plain"},{default:a(()=>[s(c(d),1)]),_:2},1024)]))),256))]),l(k,{"content-position":"left"},{default:a(()=>[s("抽獎專區")]),_:1}),I(e("div",null,[l(v,{type:"success",style:{margin:"3%"},onClick:E},{default:a(()=>[s("抽我R！")]),_:1}),e("div",H,[l(C,{style:{"margin-right":"2%"}},{header:a(()=>[K]),footer:a(()=>[s("剩餘數量："+c(t.data.length),1)]),default:a(()=>[(u(!0),p(J,null,b(t.data,(d,y)=>I((u(),p("p",{key:d},[e("span",null,c(y+1)+"、",1),e("span",null,c(d),1)])),[[O,t.data.length!==0]])),128)),I(e("p",null,"已抽完！",512),[[O,t.data.length===0]])]),_:1}),l(C,null,{header:a(()=>[P]),footer:a(()=>[s("抽出數量："+c(o.data.length),1)]),default:a(()=>[(u(!0),p(J,null,b(o.data,(d,y)=>(u(),p("p",{key:y},[e("span",null,c(y+1)+"、",1),e("span",null,c(d),1)]))),128))]),_:1})])],512),[[O,r.data.length!==0]])])}}},X=A(Q,[["__scopeId","data-v-c70a3d65"]]);export{X as default};
