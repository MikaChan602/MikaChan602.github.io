import{_ as R,r as N,a as x,w as A,o as F,b as m,c as u,d as p,e as t,f as e,g as s,h as b,v as O,t as h,F as J,i as T,j as v,p as W,k as j,E as c,l as D}from"./index-5fG1oHt6.js";function z(_){const g=/[,;\s、\r?\n]+/;return _.split(g).filter(y=>y)}const U=_=>(W("data-v-1c04e33f"),_=_(),j(),_),$={class:"wrapper",style:{"margin-top":"15px",color:"#3f4b3b"}},q=U(()=>t("h1",null,"抽獎專區",-1)),G={class:"wrapper"},H={class:"list"},K={class:"title"},P={class:"content"},Q={class:"none"},X={class:"list"},Y={class:"title"},Z={class:"content"},tt={class:"none"},et={class:"list"},at={class:"title"},st={class:"content"},lt={class:"none"},nt={class:"wrapper",style:{"margin-top":"2%"}},ot={class:"wrapper",style:{"margin-top":"2%","margin-bottom":"2%"}},it={class:"buttons"},ct={__name:"index",setup(_){const g=N(""),f=x({data:[]}),l=x({data:[]}),y=N(!0),B=N(!1),a=x({data:[]}),n=x({data:[]});A(()=>{f.data=z(g.value)});function k(){if(f.data.length<2){c.warning("至少要有兩個項目");return}y.value=!1,l.data=f.data,a.data=[...f.data],B.value=!0,localStorage.setItem("listOne",JSON.stringify(a.data)),localStorage.setItem("allData",JSON.stringify(l.data))}function C(){D.confirm("如確定清除資料需重新填寫資料，確定要清除嗎？","Warning",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{c({type:"success",message:"已清除"}),localStorage.setItem("listTwo",JSON.stringify([])),localStorage.setItem("listOne",JSON.stringify([])),localStorage.setItem("allData",JSON.stringify([])),g.value="",f.data=[],l.data=[],a.data=[],n.data=[],y.value=!0,B.value=!1}).catch(()=>{c({type:"info",message:"取消"})})}function V(){if(a.data.length===0){c.error("已抽完了唷！");return}const S=a.data.length,o=Math.floor(Math.random()*S);console.log("random",o),c.success(`抽出的是${a.data[o]}`),n.data.push(a.data[o]),a.data.splice(o,1),localStorage.setItem("listOne",JSON.stringify(a.data)),localStorage.setItem("listTwo",JSON.stringify(n.data))}function E(){console.log("重抽"),D.confirm("將重設抽獎中項目，確定重製?","Warning",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{c({type:"success",message:"已重製"}),a.data=[...a.data,...n.data],n.data=[],console.log("listone",a.data),console.log("listtwo",n.data),localStorage.setItem("listOne",JSON.stringify(a.data)),localStorage.setItem("listTwo",JSON.stringify(n.data)),c.success("可以重抽了唷！")}).catch(()=>{c({type:"info",message:"取消"})})}return F(()=>{const S=JSON.parse(localStorage.getItem("listOne"))||[],o=JSON.parse(localStorage.getItem("listTwo"))||[],d=JSON.parse(localStorage.getItem("allData"))||[];console.log(d.length),d.length!==0&&(l.data=d,a.data=S,y.value=!1),o!==null&&(n.data=o)}),(S,o)=>{const d=m("el-divider"),i=m("el-col"),I=m("el-row"),L=m("el-input"),M=m("el-form-item"),w=m("el-button");return u(),p("div",null,[t("div",$,[q,e(d,{"border-style":"dashed",style:{"margin-top":"15px"}})]),t("div",G,[e(I,{gutter:20},{default:s(()=>[e(i,{span:8,xs:24,style:{"margin-top":"5px"}},{default:s(()=>[t("div",H,[t("div",K,"抽獎清單 "+h(l.data.length),1),t("div",P,[t("ul",null,[(u(!0),p(J,null,T(l.data,r=>(u(),p("li",null,h(r),1))),256))]),t("div",Q,[b(t("span",null,"無資料",512),[[O,l.data.length===0]])])])])]),_:1}),e(i,{span:8,xs:24,style:{"margin-top":"5px"}},{default:s(()=>[t("div",X,[t("div",Y,"抽獎中 "+h(a.data.length),1),t("div",Z,[t("ul",null,[(u(!0),p(J,null,T(a.data,r=>(u(),p("li",null,h(r),1))),256))]),t("div",tt,[b(t("span",null,"無資料",512),[[O,a.data.length===0]])])])])]),_:1}),e(i,{span:8,xs:24,style:{"margin-top":"5px"}},{default:s(()=>[t("div",et,[t("div",at,"抽獎結果 "+h(n.data.length),1),t("div",st,[t("ul",null,[(u(!0),p(J,null,T(n.data,r=>(u(),p("li",null,h(r),1))),256))]),t("div",lt,[b(t("span",null,"無資料",512),[[O,n.data.length===0]])])])])]),_:1})]),_:1})]),b(t("div",nt,[e(d,{"border-style":"dashed","content-position":"left"},{default:s(()=>[v(" 請輸入抽獎資料 ")]),_:1}),e(I,{gutter:20},{default:s(()=>[e(i,{span:20,xs:24,style:{"margin-top":"5px"}},{default:s(()=>[e(M,null,{default:s(()=>[e(L,{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"請輸入獎品，可使用,;作區隔",modelValue:g.value,"onUpdate:modelValue":o[0]||(o[0]=r=>g.value=r),disabled:l.data.length!==0},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(i,{span:4,xs:24,style:{display:"flex","text-align":"right","align-items":"center"}},{default:s(()=>[e(w,{type:"primary",plain:"",onClick:k,disabled:l.data.length!==0},{default:s(()=>[v("確定")]),_:1},8,["disabled"])]),_:1})]),_:1})],512),[[O,l.data.length==0]]),t("div",ot,[e(d),t("div",it,[e(I,{gutter:20},{default:s(()=>[e(i,{span:8},{default:s(()=>[e(w,{onClick:C,plain:"",type:"danger",class:"btn"},{default:s(()=>[v(" 全部清除 ")]),_:1})]),_:1}),e(i,{span:8},{default:s(()=>[e(w,{onClick:V,plain:"",type:"primary",class:"btn"},{default:s(()=>[v(" 抽獎 ")]),_:1})]),_:1}),e(i,{span:8},{default:s(()=>[e(w,{onClick:E,plain:"",type:"success",class:"btn"},{default:s(()=>[v(" 重抽 ")]),_:1})]),_:1})]),_:1})])])])}}},rt=R(ct,[["__scopeId","data-v-1c04e33f"]]);export{rt as default};
